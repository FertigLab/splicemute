Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job stats:
job                   count
------------------  -------
STAR_to_leaf              1
all                       1
filtering_sj_files        1
running_leafcutter        1
save_introns              1
total                     5

Select jobs to execute...

[Wed Dec 20 15:21:15 2023]
rule filtering_sj_files:
    input: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/bams/junc_files.txt
    output: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/filenames.txt
    jobid: 3
    reason: Missing output files: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/filenames.txt
    resources: tmpdir=/tmp

[Wed Dec 20 15:22:12 2023]
Finished job 3.
1 of 5 steps (20%) done
Select jobs to execute...

[Wed Dec 20 15:22:12 2023]
rule STAR_to_leaf:
    input: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/filenames.txt
    output: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/juncfiles.txt
    jobid: 2
    reason: Missing output files: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/juncfiles.txt; Input files updated by another job: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/filenames.txt
    resources: tmpdir=/tmp

[Wed Dec 20 15:22:31 2023]
Finished job 2.
2 of 5 steps (40%) done
Select jobs to execute...

[Wed Dec 20 15:22:31 2023]
rule running_leafcutter:
    input: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT, /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/juncfiles.txt, /users/tpalmer/splicemute/scripts, /users/tpalmer/packages/leafcutter/scripts, /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/splicemutr_references/annotations, /users/tpalmer/packages/leafcutter/leafviz, groups_file.txt, /users/tpalmer/packages/leafcutter/clustering
    output: /dcs04/fertig/data/theron/splicemutr_snakemake_example/juncs/data.Rdata
    jobid: 1
    reason: Missing output files: /dcs04/fertig/data/theron/splicemutr_snakemake_example/juncs/data.Rdata; Input files updated by another job: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/juncfiles.txt
    resources: tmpdir=/tmp

[Wed Dec 20 15:23:08 2023]
Error in rule running_leafcutter:
    jobid: 1
    input: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT, /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/juncfiles.txt, /users/tpalmer/splicemute/scripts, /users/tpalmer/packages/leafcutter/scripts, /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/splicemutr_references/annotations, /users/tpalmer/packages/leafcutter/leafviz, groups_file.txt, /users/tpalmer/packages/leafcutter/clustering
    output: /dcs04/fertig/data/theron/splicemutr_snakemake_example/juncs/data.Rdata
    shell:
        
        echo "leafcutter_cluster_regtools"
        python /users/tpalmer/packages/leafcutter/clustering/splicemutr_leafcutter_cluster_regtools.py -j /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/juncfiles.txt -r /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT -o data -l 500000

        echo "leafcutter_ds"
        /users/tpalmer/packages/leafcutter/scripts/leafcutter_ds.R --num_threads 1 --exon_file=/dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/splicemutr_references/annotations/G039.exons.txt.gz -o /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/leafcutter_ds /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/data_perind_numers.counts.gz groups_file.txt

        echo "prepare_results"
        /users/tpalmer/packages/leafcutter/leafviz/prepare_results.R -o /dcs04/fertig/data/theron/splicemutr_snakemake_example/juncs/data.Rdata -m groups_file.txt /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/data_perind_numers.counts.gz /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/leafcutter_ds_cluster_significance.txt /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/leafcutter_ds_effect_sizes.txt /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/splicemutr_references/annotations/G039
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-12-20T152051.534840.snakemake.log
