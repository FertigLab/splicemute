Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job stats:
job                           count
--------------------------  -------
all                               1
analyze_splicemutr                1
calcualte_coding_potential        1
calculate_gene_metric             1
combine_splicemutr                1
compile_kmer_counts               1
extract_data                      1
form_transcripts                  1
process_bindaffinity              1
process_peptides                  1
run_mhcnuggets                    1
total                            11

Select jobs to execute...

[Thu Dec 21 11:06:42 2023]
rule form_transcripts:
    input: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/SJ_FILES_OUT/splicemutr_introns.rds, /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/splicemutr_references/G039_txdb.sqlite, /users/tpalmer/splicemute/scripts, /users/tpalmer/splicemute/R/functions.R, /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/formed_transcripts
    output: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/formed_transcripts/splicemutr_introns_data_splicemutr.rds
    jobid: 4
    reason: Missing output files: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/formed_transcripts/splicemutr_introns_data_splicemutr.rds
    resources: tmpdir=/tmp

[Thu Dec 21 11:19:56 2023]
Finished job 4.
1 of 11 steps (9%) done
Select jobs to execute...

[Thu Dec 21 11:19:56 2023]
rule extract_data:
    input: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/class1_alleles.txt, /users/tpalmer/splicemute/inst, /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/process_bindaff_out, /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/process_bindaff_out
    output: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/process_bindaff_out/summaries.txt
    jobid: 10
    reason: Missing output files: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/process_bindaff_out/summaries.txt
    resources: tmpdir=/tmp

[Thu Dec 21 11:19:58 2023]
Error in rule extract_data:
    jobid: 10
    input: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/class1_alleles.txt, /users/tpalmer/splicemute/inst, /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/process_bindaff_out, /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/process_bindaff_out
    output: /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/process_bindaff_out/summaries.txt
    shell:
        
            START=1
            for ((VAR=$START; VAR<=1; VAR++))
            do
                ALLELE=$(sed -n ${VAR}p /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/class1_alleles.txt)

                /users/tpalmer/splicemute/inst/extract_data.py -a $ALLELE -p /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/process_bindaff_out -b 9 -e 10

            done

            cd /dcs04/fertig/data/theron/splicemutr_paper/simulated_reads/splicemutr/process_bindaff_out
            ls $PWD/*summary.txt > summaries.txt
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-12-21T110638.157234.snakemake.log
